<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Redirección Automática</title>

  <!-- Script oficial de Linkvertise -->
  <script src="https://publisher.linkvertise.com/cdn/linkvertise.js"></script>

  <style>
    body {
      font-family: Arial;
      text-align: center;
      margin-top: 50px;
    }
  </style>
</head>
<body>

  <h2>Procesando enlace...</h2>
  <a id="autoLink" class="linkvertise" href="#" target="_blank">Redirigiendo...</a>

  <script>
    // Lee ?url=... desde la barra del navegador
    function getQueryParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }

    // Ejecuta cuando carga la página
    document.addEventListener("DOMContentLoaded", () => {
      const originalUrl = getQueryParam("url");
      if (!originalUrl) {
        document.body.innerHTML = "<h2>Error: Falta el parámetro 'url'</h2>";
        return;
      }

      // Asignar href al <a> con clase linkvertise
      const link = document.getElementById("autoLink");
      link.href = originalUrl;

      // Ejecutar monetización
      if (typeof convert === "function") {
        convert("471516", {});
      }

      // Simular clic automático después de 1 segundo
      setTimeout(() => {
        link.click();
      }, 1000);
    });
  </script>

</body>
</html>
